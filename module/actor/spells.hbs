<h3>{{ localize 'SWORDS_WIZARDRY.CharacterSheet.Spells.Prepared'}}</h3>
<ol class='items-list'>
  {{#each system.spellSlots as |slots spellLevel|}}
    {{# if slots.memorizedSpells }}
      {{#each slots.memorizedSpells as |spell id|}}
        <li class='item grid grid-6col' data-item-id='{{spell._id}}'>
          <div class='item-name grid-span-5'>
            <div class='item-image'>
              <a class='rollable' data-roll-type='item'>
                <img src='{{spell.img}}' title='{{spell.name}}' width='24' height='24'/>
              </a>
            </div>
            <h4>{{spell.name}}</h4>
          </div>
          <div class='item-controls'>
            <a class='item-control item-cast' title='Cast'>
              <i class='fas fa-wand-magic'></i>
            </a>
          </div>
        </li>
      {{/each}}
    {{/if}}
  {{/each}}
</ol>
<h3>{{ localize 'SWORDS_WIZARDRY.CharacterSheet.Spells.SpellSlots' }}</h3>
<div class="grid grid-11col align-center">
  <div class="grid-span-2">
    <label class="resource-label align-left">{{ localize 'SWORDS_WIZARDRY.CharacterSheet.Spells.Level.long' }}</label>
  </div>
  <div class="grid-span-2 grid-row-start-3 align-self-center">
    <label class="resource-label align-left">{{ localize 'SWORDS_WIZARDRY.CharacterSheet.Spells.Total' }}</label>
  </div>
  {{#each system.spellSlots as |slot key|}}
  <div class="grid-span-1">
    <label for="{{key}}" class="resource-label flexlarge align-left" data-label="{{key}}">{{key}}</label>
  </div>
  <div class="grid-span-1 grid-row-start-3 double-border">
    <input class="nomargin align-center" type="text" name="system.spellSlots.{{key}}.max" value="{{slot.max}}" data-dtype="Number"/>
  </div>
  {{/each}}
</div>
<h3>{{ localize 'SWORDS_WIZARDRY.CharacterSheet.Spells.Known'}}</h3>
<ol class='items-list'>
  {{#each spells as |spells spellLevel|}}
  <li class='item items-header grid grid-6col'>
    <div class='item-name grid-span-5'>
      {{localize 'SWORDS_WIZARDRY.CharacterSheet.Spells.SpellLVL' level=spellLevel}}
    </div>
    <div class='item-controls'>
      <a
        class='item-control item-create'
        title='{{localize "SWORDS_WIZARDRY.CharacterSheet.Spells.Table.Create" type='Spell'}}'
        data-type='spell'
        data-spell-level='{{spellLevel}}'
      >
        <i class='fas fa-plus'></i>
      </a>
    </div>
  </li>
  {{#each spells as |item id|}}
  <li class='item grid grid-6col' data-item-id='{{item._id}}'>
    <div class='item-name flexrow grid-span-5'>
      <div class='item-image'>
        <a class='rollable' data-roll-type='item'>
          <img src='{{item.img}}' title='{{item.name}}' width='24' height='24'/>
        </a>
      </div>
      <h4>{{item.name}}</h4>
    </div>
    <div class='item-controls'>
      <a class='item-control item-prepare' title='Memorize'>
          <i class='fas fa-brain'></i>
      </a>
      <a class='item-control item-edit' title='{{localize "SWORDS_WIZARDRY.CharacterSheet.Spells.Table.Update" type='spell'}}'>
        <i class='fas fa-edit'></i>
      </a>
      <a class='item-control item-delete' title='{{localize "SWORDS_WIZARDRY.CharacterSheet.Spells.Table.Delete" type='spell'}}'>
        <i class='fas fa-trash'></i>
      </a>
    </div>
  </li>
  {{/each}}
  {{/each}}
</ol>
